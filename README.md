# ğŸ¬ Î•ÏÎ³Î±ÏƒÎ¯Î± ÎœÎ±Î¸Î®Î¼Î±Ï„Î¿Ï‚ CN6035 â€“ Mobile & Web App Development

**Author**: Î‘Î½Î´ÏÎ­Î±Ï‚ ÎšÎµÎ³Î¹Î±Î´Î¬ÎºÎ·Ï‚
**Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Ï€Î±ÏÎ¬Î´Î¿ÏƒÎ·Ï‚**: Î‘ÏÎ³Î¿Ï…ÏƒÏ„Î¿Ï‚ 2025

## ğŸ“Œ Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®

Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Ï€Î¿Ï… Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ± Î±Ï†Î¿ÏÎ¬ Î­Î½Î± ÏƒÏÏƒÏ„Î·Î¼Î± ÎºÏÎ±Ï„Î®ÏƒÎµÏ‰Î½ Î³Î¹Î± ÎºÎ¹Î½Î·Î¼Î±Ï„Î¿Î³ÏÎ¬Ï†Î¿Ï…Ï‚. ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎºÎ¬Î½ÎµÎ¹ ÎµÎ³Î³ÏÎ±Ï†Î®, ÎµÎ¯ÏƒÎ¿Î´Î¿, Î½Î± Î´ÎµÎ¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿Ï…Ï‚ ÎºÎ¹Î½Î·Î¼Î±Ï„Î¿Î³ÏÎ¬Ï†Î¿Ï…Ï‚, Ï„Î±Î¹Î½Î¯ÎµÏ‚, Î½Î± ÎºÎ¬Î½ÎµÎ¹ ÎºÏÎ¬Ï„Î·ÏƒÎ·, Î½Î± Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„ÎµÎ¯ Ï„Î¹Ï‚ ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ Ï„Î¿Ï… (ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± / Î´Î¹Î±Î³ÏÎ±Ï†Î®), ÏŒÎ»Î± Î¼Î­ÏƒÏ‰ Î¼Î¹Î±Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚ **React Native** Ï€Î¿Ï… ÏƒÏ…Î½Î´Î­ÎµÏ„Î±Î¹ Î¼Îµ Î­Î½Î± **NestJS backend** ÎºÎ±Î¹ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ **MariaDB** Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½.

---

## ğŸ› ï¸ Î¤ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯ÎµÏ‚ Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®Î¸Î·ÎºÎ±Î½

### Backend
- [NestJS](https://nestjs.com/) â€“ Framework Î³Î¹Î± modular backend Î±Î½Î¬Ï€Ï„Ï…Î¾Î·
- [TypeORM](https://typeorm.io/) â€“ ORM Î³Î¹Î± MariaDB
- [class-validator](https://github.com/typestack/class-validator) â€“ Validation Î³Î¹Î± DTOs
- [Passport](https://docs.nestjs.com/security/authentication) â€“ Authentication (local & JWT strategies)
- [MariaDB](https://mariadb.org/) â€“ RDBMS, Ï„ÏÎ­Ï‡ÎµÎ¹ Î¼Î­ÏƒÏ‰ Docker
- [Docker](https://www.docker.com/) â€“ Î“Î¹Î± Î±Ï€Î¿Î¼Î¿Î½Ï‰Î¼Î­Î½Î¿ DB environment

### Frontend (Mobile App)
- [React Native](https://reactnative.dev/)
- [Expo](https://expo.dev/)
- [Expo Router v2](https://expo.github.io/router/docs) â€“ Î“Î¹Î± navigation Î²Î±ÏƒÎ¹ÏƒÎ¼Î­Î½Î¿ ÏƒÎµ filesystem
- [Axios](https://axios-http.com/) â€“ Î“Î¹Î± API ÎºÎ»Î®ÏƒÎµÎ¹Ï‚
- [AsyncStorage](https://react-native-async-storage.github.io/async-storage/) â€“ Î“Î¹Î± Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· token / user state

---

## ğŸ§± Backend - Î•Ï€ÎµÎ¾Î®Î³Î·ÏƒÎ·

Î‘Î½Ï„Î¯ Î³Î¹Î± Î±Ï€Î»ÏŒ Node.js + Express, Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ± **NestJS** Î¼Î¹Î±Ï‚ ÎºÎ±Î¹ Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ¬ ÎµÎ¹Î½Î±Î¹ 
express+typescript, Î¼Îµ validation etc. all-in-one Ï€Î±ÎºÎµÏ„Î¿. 
Please no be too mad, architecture-wise it is very very similar.

Î¥Ï€Î¬ÏÏ‡Î¿Ï…Î½ modules Î³Î¹Î±:

- `auth` â€“ login Î¼Îµ local strategy + jwt guards
- `users` â€“ register + secured endpoints
- `movies`, `cinemas`, `reservations` â€“ Ï€Î»Î®ÏÎµÏ‚ CRUD

Î•Ï€Î¹Ï€Î»Î­Î¿Î½:

- Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ± **DTOs Î¼Îµ class-validator** Î³Î¹Î± validation
- ÎˆÎ²Î±Î»Î± ÎºÎ±Î¹ **JWT Auth Guard** Î¼Îµ token generation.
- Î¤Î­Î»Î¿Ï‚ ÎµÏ†Ï„Î¹Î±Î¾Î¬ ÎµÎ½Î± sql script Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­Ï„ÎµÎ¹ Î´ÎµÎ´Î¿Î¼Î­Î½Î± ÏƒÏ„Î· Î²Î¬ÏƒÎ· (**seed.sql**)

---

## ğŸ“± Frontend â€“ Î•Ï€ÎµÎ¾Î®Î³Î·ÏƒÎ·

ÎœÎµ Ï‡ÏÎ®ÏƒÎ· Ï„Î¿Ï… **Expo Router v2**, Î­Ï‡Î¿Ï…Î¼Îµ Ï„Î¹Ï‚ Î¿Î¸ÏŒÎ½ÎµÏ‚:

- `login.tsx`, `register.tsx`
- `cinemas.tsx` â€“ ScrollView
- `movies.tsx` â€“ FlatList
- `reservation.tsx` â€“ Form ÎºÏÎ¬Ï„Î·ÏƒÎ·Ï‚
- `my-reservations.tsx` â€“ FlatList Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏÎ½ ÎºÏÎ±Ï„Î®ÏƒÎµÏ‰Î½
- `edit-reservation.tsx` â€“ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± ÎºÏÎ¬Ï„Î·ÏƒÎ·Ï‚

ÎŒÎ»Î· Î· Î»Î¿Î³Î¹ÎºÎ® Î´Î¹Î±Ï‡Ï‰ÏÎ¯ÏƒÏ„Î·ÎºÎµ ÏƒÎµ:
- **`services/api.ts`** Î³Î¹Î± backend requests Î¼ÎµÏƒÏ‰ axios 
- **`contexts/AuthContext.tsx`** Î³Î¹Î± login/logout/token
- **`components/ui`** Î³Î¹Î± custom buttons / input fields
- **`utils/storage.ts`** Î³Î¹Î± token/user state

---

## âš™ï¸ ÎŸÎ´Î·Î³Î¯ÎµÏ‚ Î•Î³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚ & Î•ÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚

### ğŸ’¾ Î’Î¬ÏƒÎ· Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ (MariaDB) (Î±Î½ ÎºÎ±Î¹ Î¸Î± Ï€ÏÎ¿Ï„Î¹Î¼Î¿ÏÏƒÎ± Mongo Ï€Î¿Ï… Î»ÎµÎ³Î±Î¼Îµ ÏƒÏ„Î¹Ï‚ Î´Î¹Î±Î»Î­Î¾ÎµÎ¹Ï‚  )

1. **Î§ÏÎµÎ¹Î±Î¶ÏŒÎ¼Î±ÏƒÏ„Îµ ÎµÎ³ÎºÎ±Ï„ÎµÏƒÏ„Î·Î¼Î­Î½Î¿ Docker Î³Î¹Î± Ï„Î· Î²Î¬ÏƒÎ· Ï„Î·Ï‚ ÎœÎ±ÏÎ¯Î±Ï‚ Î¼Î±Ï‚:**
   [https://www.docker.com/products/docker-desktop/](https://www.docker.com/products/docker-desktop/)

2. **Î“Î¹Î± Î½Î± Ï„ÏÎ­Î¾ÎµÎ¹ Ï„Î¿ container:**

```bash
cd database-config
docker compose up -d mariadb
```

---

## ğŸ–¥ Backend (NestJS)
1.	Î Î¬Î¼Îµ ÏƒÏ„Î¿ Ï†Î¬ÎºÎµÎ»Î¿ Ï„Î¿Ï… backend:

```bash
cd backend
npm install --legacy-peer-deps
```

2. Î¦Ï„Î¹Î¬Ï‡Î½Î¿Ï…Î¼Îµ Ï„Î¿ .env Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ backend/ Î½Î± ÎµÎ¼Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Ï„Î¿ Ï„Î¹Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î±Î¶ÏŒÎ¼Î±ÏƒÏ„Îµ.
``` (ÎˆÎ½Î± default .env ÎµÎ¹Î½Î±Î¹ Ï„Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰)
DB_HOST=localhost
DB_PORT=3306
DB_USER=cinema_user
DB_PASSWORD=cinemapass
DB_NAME=cinema_booking

JWT_SECRET=myjwtsecret
JWT_EXPIRES_IN=3600s
```

3. ÎÎµÎºÎ¹Î½Î¬Î¼Îµ Ï„Î¿ backend Î¼Îµ:
```bash
npm run start:dev
```

4. (see troubleshooting in case backend implodes)

5. Î‘Ï†Î¿Ï Î±Î½Î¿Î¯Î¾ÎµÎ¹ Ï„Î¿ backend ÎºÎ±Î¹ Î´ÎµÎ½ Î²Î³Î±Î»ÎµÎ¹ Î¸Î­Î¼Î±, Ï„ÏÎ­Ï‡Î¿Ï…Î¼Îµ Ï„Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Î³Î¹Î± Î½Î± Î´ÏÏƒÎ¿Ï…Î¼Îµ ÏƒÏ‡Î®Î¼Î± ÏƒÏ„Î· Î²Î¬ÏƒÎ·:
```bash
mysql -h 127.0.0.1 -P 3306 -u root -p cinema_booking < ../database-config/seed.sql
```

--- 
## ğŸ“± Frontend (React Native, ***basically Expo***)
1. Î Î¬Î¼Îµ ÏƒÏ„Î¿ Ï†Î¬ÎºÎµÎ»Î¿ Î³Î¹Î± Ï„Î¿ frontend:
```bash
cd frontend
npm install
```

2. Î£Ï„Î¿ constants/config.ts Î±Î»Î»Î¬Î¶Î¿Ï…Î¼Îµ Ï„Î·Î½ IP Î³Î¹Î± Ï„Î¿ backend, Î½Î± Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Ï„Î·Î½ LAN IP Ï„Î¿Ï… Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î® Ï€Î¿Ï… Ï„ÏÎ­Ï‡ÎµÎ¹ Ï„Î¿ backend Î¼Î±Ï‚. (ÎÏƒÏ„Îµ Î½Î± Î²Î»Î­Ï€ÎµÎ¹ Ï„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ Î¼Î±Ï‚ Ï„Î¿ ÏƒÎµÏÎ²ÎµÏ Î¼Î­ÏƒÏ‰ Ï„Î¿Ï… Î´Î¹ÎºÏ„ÏÎ¿Ï… Î¼Î±Ï‚).

3. ÎÎµÎºÎ¹Î½Î¬Î¼Îµ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® ÏƒÎµ dev Ï€ÎµÏÎ¹Î²Î±Î»Î»Î¿Î½ Î¼Îµ
```bash
npx expo start
```

4. Î£ÎºÎ±Î½Î¬ÏÎ¿Ï…Î¼Îµ Ï„Î¿ QR Ï€Î¿Ï… Î¼Î±Ï‚ Î²Î³Î±Î¶ÎµÎ¹ Î¼Îµ Ï„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ Î¼Î±Ï‚. (Î“Î¹Î± iOS Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ± ÎµÎ³Ï‰ Ï‡ÏÎµÎ¹Î±Î¶ÏŒÎ¼Î±ÏƒÏ„Îµ ExpoGO)

5. Success I hope ??

-- 
## âš™ï¸ Troubleshooting

Î‘Î½ Î³Î¹Î± Î¿Ï€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ Î»Î¿Î³Î¿ Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î®ÏƒÎµÎ¹ Î· Î²Î¬ÏƒÎ· Î® Î· nest Î¼Î±Ï‚ Î²Î³Î¬Î¶ÎµÎ¹ error "Unable to connect to the database. Retrying (1)...
QueryFailedError: Duplicate entry '' for key 'IDX_97672ac88f789774dd47f7c8b"
KÎ¬Î½Î¿Ï…Î¼Îµ Ï„Î± ÎµÎ¾Î®Ï‚ (Assuming Î¿Ï„Î¹ ÎµÎ¹Î¼Î±ÏƒÏ„Îµ ÏƒÏ„Î¿ Ï†Î¬ÎºÎµÎ»Î¿ Ï„Î¿Ï… backend Î¼Î­ÏƒÎ±):
1. ÎšÎ»Î­Î¹Î½Î¿Ï…Î¼Îµ Ï„Î· nest (ctrl+c)

2. Î¤ÏÎ­Ï‡Î¿Ï…Î¼Îµ:
```bash
mysql -h 127.0.0.1 -P 3306 -u root -p
```
Î¼Îµ ÎºÏ‰Î´Î¹ÎºÏŒ 1234

3. Î£Î²Î®Î½Î¿Ï…Î¼Îµ Ï„Î· Î²Î¬ÏƒÎ· ÎµÎ½Ï„ÎµÎ»ÏÏ‚:
```mySQL
DROP database cinema_booking;
```

4. ÎÎ±Î½Î±Ï†Ï„Î¹Î¬Ï‡Î½Î¿Ï…Î¼Îµ Ï„Î· Î²Î¬ÏƒÎ· ÎºÎ±Î¹ ÎºÎ»ÎµÎ¯Î½Î¿Ï…Î¼Îµ Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ·:
```
CREATE database cinema_booking;
exit;
```

5. ÎÎ±Î½Î±Î´Î¯Î½Î¿Ï…Î¼Îµ ÏƒÏ‡Î®Î¼Î± ÏƒÏ„Î· Î²Î¬ÏƒÎ·:
```bash
mysql -h 127.0.0.1 -P 3306 -u root -p cinema_booking < ../database-config/schema.sql
```

6. Î¤ÏÎ­Ï‡Î¿Ï…Î¼Îµ Ï„Î¿ backend Î¼Î­ÏƒÎ± Î±Ï€ÏŒ Ï„Î¿ Ï†Î¬ÎºÎµÎ»Î¿ Ï„Î¿Ï…:
```bash
npm run start:dev
```

7. ÎšÎ»ÎµÎ¯Î½Î¿Ï…Î¼Îµ Î¾Î±Î½Î¬ Ï„Î¿ backend (ctrl+c)

8. Î•ÎºÏ„ÎµÎ»Î¿ÏÎ¼Îµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Ï€Î¿Ï… Î¸Î± Î´ÏÏƒÎµÎ¹ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÏƒÏ„Î· Î²Î¬ÏƒÎ·:
```bash
mysql -h 127.0.0.1 -P 3306 -u root -p cinema_booking < ../database-config/seed.sql
```

9. et'voila, Ï€ÏÎµÏ€ÎµÎ¹ Î½Î± Ï€Î±Î¹Î¶ÎµÎ¹ :P 
